# Прототип web-сервиса с json-интерефейсом для поиска минимальных цен на авиаперелеты

[http://bookingapi.unitymind.org/](http://bookingapi.unitymind.org/) - запущенное приложение, соответствующее текущей версии.

## Постановка задачи

Функциональные и иные требования в формате PDF доступны [здесь](https://github.com/unitymind/bookingapi/blob/master/doc/aviasales-test.pdf?raw=true).

## Сбор данных и их структура


### Реальные данные
В качестве источника данных об аэропортах использован сайт [http://www.apinfo.ru/airports/export.html](http://www.apinfo.ru/).
Данные сохранены в файл db/airports.xml, парсятчя и экспортируются в базу посредством Rake-задачи.

Получены:

* IATA-код
* ICAO-код
* Название аэропорта на русском
* Название аэропорта на английском
* Город на русском
* Город на английском
* Страна на русском
* Страна на английском
* ISO-код страны
* Географические координаты

### Сгенерированные данные

## Подход к тестированию

## Недочеты

## Немного технических деталей

Парсер аэропортов и генерация данных оформлены в rake-задачу:

	rake db:populate
        Populate and generate all init data

Которая в свою очередь является оберткой для трех недокументированных задач:

    rake db:populate:airports - экспорт данных об аэропортах
    rake db:populate:prices - генерация цен
    rake db:populate:create_indexes - создание индексов